{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pacu\\\\Desktop\\\\f\\\\ElderCare\\\\reactfront\\\\src\\\\components\\\\PlanHouse.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction PlanHouse() {\n  _s();\n  const canvasRef = useRef(null);\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [coordinates, setCoordinates] = useState([]);\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    const handleMouseDown = e => {\n      console.log(\"Paspausta\");\n      setIsDrawing(true);\n      context.beginPath();\n      context.moveTo(e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop);\n    };\n    const handleMouseMove = e => {\n      if (!isDrawing) return;\n      context.lineTo(e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop);\n      context.stroke();\n      setCoordinates(coords => [...coords, {\n        x: e.clientX - canvas.offsetLeft,\n        y: e.clientY - canvas.offsetTop\n      }]);\n      console.log(\"skaiciuoja\");\n    };\n    const handleMouseUp = () => {\n      console.log(\"Atleista\");\n      setIsDrawing(false);\n    };\n    canvas.addEventListener('mousedown', handleMouseDown);\n    canvas.addEventListener('mousemove', handleMouseMove);\n    canvas.addEventListener('mouseup', handleMouseUp);\n    return () => {\n      canvas.removeEventListener('mousedown', handleMouseDown);\n      canvas.removeEventListener('mousemove', handleMouseMove);\n      canvas.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, []);\n  const handleSubmit = () => {\n    console.log(coordinates);\n\n    // Fetch request to Express.js API\n    fetch('http://localhost:5000/api/house-plan', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        coordinates\n      })\n    }).then(response => response.json()).then(data => console.log(data)).catch(error => console.error(error));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: \"800\",\n      height: \"600\",\n      style: {\n        border: '1px solid black'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmit,\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(PlanHouse, \"90O93Ope/3z7faqcuGbel0YC+10=\");\n_c = PlanHouse;\nexport default PlanHouse;\nvar _c;\n$RefreshReg$(_c, \"PlanHouse\");","map":{"version":3,"names":["React","useRef","useEffect","useState","jsxDEV","_jsxDEV","PlanHouse","_s","canvasRef","isDrawing","setIsDrawing","coordinates","setCoordinates","canvas","current","context","getContext","handleMouseDown","e","console","log","beginPath","moveTo","clientX","offsetLeft","clientY","offsetTop","handleMouseMove","lineTo","stroke","coords","x","y","handleMouseUp","addEventListener","removeEventListener","handleSubmit","fetch","method","headers","body","JSON","stringify","then","response","json","data","catch","error","children","ref","width","height","style","border","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Pacu/Desktop/f/ElderCare/reactfront/src/components/PlanHouse.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\r\n\r\nfunction PlanHouse() {\r\n  const canvasRef = useRef(null);\r\n  const [isDrawing, setIsDrawing] = useState(false);\r\n  const [coordinates, setCoordinates] = useState([]);\r\n  \r\n  useEffect(() => {\r\n    const canvas = canvasRef.current;\r\n    const context = canvas.getContext('2d');\r\n    \r\n    const handleMouseDown = (e) => {\r\n        console.log(\"Paspausta\");\r\n      setIsDrawing(true);\r\n      context.beginPath();\r\n      context.moveTo(e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop);\r\n    };\r\n\r\n    const handleMouseMove = (e) => {\r\n      if (!isDrawing) return;\r\n      context.lineTo(e.clientX - canvas.offsetLeft, e.clientY - canvas.offsetTop);\r\n      context.stroke();\r\n      setCoordinates((coords) => [...coords, { x: e.clientX - canvas.offsetLeft, y: e.clientY - canvas.offsetTop }]);\r\n      console.log(\"skaiciuoja\");\r\n    };\r\n\r\n    const handleMouseUp = () => {\r\n        console.log(\"Atleista\");\r\n      setIsDrawing(false);\r\n    };\r\n\r\n    canvas.addEventListener('mousedown', handleMouseDown);\r\n    canvas.addEventListener('mousemove', handleMouseMove);\r\n    canvas.addEventListener('mouseup', handleMouseUp);\r\n\r\n    return () => {\r\n      canvas.removeEventListener('mousedown', handleMouseDown);\r\n      canvas.removeEventListener('mousemove', handleMouseMove);\r\n      canvas.removeEventListener('mouseup', handleMouseUp);\r\n    };\r\n  }, []);\r\n\r\n  const handleSubmit = () => {\r\n    console.log(coordinates);\r\n\r\n    // Fetch request to Express.js API\r\n    fetch('http://localhost:5000/api/house-plan', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ coordinates }),\r\n    })\r\n    .then((response) => response.json())\r\n    .then((data) => console.log(data))\r\n    .catch((error) => console.error(error));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <canvas ref={canvasRef} width=\"800\" height=\"600\" style={{ border: '1px solid black' }}></canvas>\r\n      <button onClick={handleSubmit}>Submit</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PlanHouse;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}