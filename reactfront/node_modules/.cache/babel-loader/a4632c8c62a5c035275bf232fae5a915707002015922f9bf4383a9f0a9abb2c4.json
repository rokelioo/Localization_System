{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pacu\\\\Desktop\\\\f\\\\ElderCare\\\\reactfront\\\\src\\\\components\\\\PlanHouse.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport '../CSS/planhouse.css';\nimport Header from './Header';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst numRows = 30;\nconst numCols = 30;\nfunction PlanHouse() {\n  _s();\n  const [grid, setGrid] = useState(() => {\n    return Array.from({\n      length: numRows\n    }, () => Array.from({\n      length: numCols\n    }, () => 0));\n  });\n  const [CellStart, setCellStart] = useState({});\n  const [name, setRoomName] = useState('');\n  const [roomCnt, setCount] = useState(0);\n  const [paintColor, setPaintColor] = useState('rgba(0, 0, 255, 0.5)');\n  const [roomInfromation, setRoomInfo] = useState([]);\n  const [houseSelection, setHouseList] = useState([{}]);\n  const sessionData = sessionStorage.getItem(\"UserSession\");\n  const userId = JSON.parse(sessionData).user_id;\n  const isMouseDown = useRef(false);\n  const sCellsSelected = useRef(false);\n  const [gridUpdated, setGridUpdated] = useState(false);\n  const [whichhouse, setWhichhouse] = useState({});\n  const [error, setError] = useState(null);\n  const [successMessage, setSuccessMessage] = useState(null);\n\n  //added\n  const [doorColor, setDoorColor] = useState('saddlebrown');\n  const [isDoorDrawingEnabled, setIsDoorDrawingEnabled] = useState(false);\n  const [planHistory, setPlanHistory] = useState([{\n    grid,\n    roomCnt,\n    roomInfromation\n  }]);\n  const [historyIndex, setHistoryIndex] = useState(0);\n  const navigate = useNavigate();\n\n  //added\n  const enableDoorDrawing = () => {\n    setIsDoorDrawingEnabled(true);\n  };\n  const disableDoorDrawing = () => {\n    setIsDoorDrawingEnabled(false);\n  };\n  const undo = () => {\n    if (historyIndex > 0) {\n      const {\n        grid: previousGrid,\n        roomCnt: previousRoomCnt,\n        roomInfromation: previousRoomInfo\n      } = planHistory[historyIndex - 1];\n      setGrid(previousGrid);\n      setCount(roomCnt - 1);\n      setRoomInfo(previousRoomInfo);\n      setHistoryIndex(historyIndex - 1);\n    }\n  };\n  const redo = () => {\n    if (historyIndex < planHistory.length - 1) {\n      const {\n        grid: nextGrid,\n        roomCnt: nextRoomCnt,\n        roomInfromation: nextRoomInfo\n      } = planHistory[historyIndex + 1];\n      setGrid(nextGrid);\n      setCount(roomCnt + 1);\n      setRoomInfo(nextRoomInfo);\n      setHistoryIndex(historyIndex + 1);\n    }\n  };\n  useEffect(() => {\n    fetch(`/api/planner/${userId}/house-list`).then(response => response.json()).then(house => {\n      setHouseList(house);\n      console.log(houseSelection);\n    });\n  }, []);\n  const handleMouseDown = (row, col) => {\n    if (sCellsSelected.current === false) {\n      const rowAndCell = {\n        row: row,\n        collumn: col\n      };\n      setCellStart(rowAndCell);\n      sCellsSelected.current = true;\n    }\n\n    //console.log(CellStart);\n    isMouseDown.current = true;\n    handleCellClick(row, col);\n  };\n  const handleMouseUp = () => {\n    sCellsSelected.current = false;\n    isMouseDown.current = false;\n  };\n  const handleMouseOver = (row, col) => {\n    if (!isMouseDown.current) return;\n    // handleCellClick(row, col);\n    handleRactangleDraw(row, col);\n  };\n  //added change\n  const handleCellClick = (row, col) => {\n    const newGrid = JSON.parse(JSON.stringify(grid));\n    if (isDoorDrawingEnabled) {\n      newGrid[row][col] = doorColor;\n    } else {\n      newGrid[row][col] = newGrid[row][col] ? 0 : paintColor;\n    }\n    setGrid(newGrid);\n  };\n  const handleRactangleDraw = (row, col) => {\n    const newGrid = JSON.parse(JSON.stringify(grid));\n    setGrid(newGrid);\n    console.log(row + \" is \" + CellStart.row);\n    if (row >= CellStart.row) {\n      if (col >= CellStart.collumn) {\n        for (let i = row; i >= CellStart.row; i--) {\n          for (let k = col; k >= CellStart.collumn; k--) {\n            if (isDoorDrawingEnabled) {\n              newGrid[i][k] = doorColor;\n            } else {\n              newGrid[i][k] = paintColor;\n            }\n          }\n        }\n        setGrid(newGrid);\n      } else if (col <= CellStart.collumn) {\n        for (let i = row; i >= CellStart.row; i--) {\n          for (let k = CellStart.collumn; k >= col; k--) {\n            if (isDoorDrawingEnabled) {\n              newGrid[i][k] = doorColor;\n            } else {\n              newGrid[i][k] = paintColor;\n            }\n          }\n        }\n        setGrid(newGrid);\n      }\n    }\n    if (row <= CellStart.row) {\n      if (col >= CellStart.collumn) {\n        for (let i = CellStart.row; i >= row; i--) {\n          for (let k = col; k >= CellStart.collumn; k--) {\n            if (isDoorDrawingEnabled) {\n              newGrid[i][k] = doorColor;\n            } else {\n              newGrid[i][k] = paintColor;\n            }\n          }\n        }\n        setGrid(newGrid);\n      } else if (col <= CellStart.collumn) {\n        for (let i = CellStart.row; i >= row; i--) {\n          for (let k = CellStart.collumn; k >= col; k--) {\n            if (isDoorDrawingEnabled) {\n              newGrid[i][k] = doorColor;\n            } else {\n              newGrid[i][k] = paintColor;\n            }\n          }\n        }\n        setGrid(newGrid);\n      }\n    }\n  };\n  const handleSubmit = () => {\n    if (roomCnt === 0) {\n      setError('Plan must contain atleast one room');\n      return;\n    } else if (!whichhouse.id) {\n      setError('You need to select the address');\n      return;\n    }\n    setError(null);\n    if (name) {\n      const roomInfo = {\n        roomId: roomCnt,\n        roomColor: paintColor,\n        roomName: name,\n        grid: grid,\n        pkIdHouse: whichhouse.id\n      };\n      setRoomInfo(lastdata => [...lastdata, roomInfo]);\n    } else {\n      setRoomInfo(lastdata => {\n        const newData = [...lastdata];\n        if (newData.length > 0) {\n          newData[newData.length - 1].grid = grid;\n          newData[newData.length - 1].pkIdHouse = whichhouse.id;\n        }\n        return newData;\n      });\n    }\n    setGridUpdated(true);\n  };\n  const handleNextRoom = () => {\n    if (!name) {\n      setSuccessMessage(null);\n      setError('Room name cannot be empty');\n      return;\n    }\n    setError(null);\n    setSuccessMessage('Room successfully created');\n    console.log(grid);\n    const roomInfo = {\n      roomId: roomCnt,\n      roomColor: paintColor,\n      roomName: name\n    };\n    setRoomInfo(lastdata => [...lastdata, roomInfo]);\n    sCellsSelected.current = false;\n    setCount(prevCount => prevCount + 1);\n    const randomColor = `rgba(${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, 0.5)`;\n    setPaintColor(randomColor);\n    setGridUpdated(false);\n    setRoomName('');\n    setPlanHistory(oldHistory => {\n      const newHistory = oldHistory.slice(0, historyIndex + 1);\n      newHistory.push({\n        grid: grid,\n        roomCnt,\n        roomInfromation: [...roomInfromation, roomInfo]\n      });\n      return newHistory;\n    });\n    setHistoryIndex(oldIndex => oldIndex + 1);\n  };\n  useEffect(() => {\n    console.log(roomCnt);\n  }, [roomInfromation]);\n  const handleRoomNameChange = event => {\n    setRoomName(event.target.value);\n  };\n  const handleHouseSelectionChange = event => {\n    const parts = event.target.value.split(\"+\");\n    console.log(parts[0]);\n    setWhichhouse({\n      id: parts[0],\n      selected: true\n    });\n  };\n  useEffect(() => {\n    if (gridUpdated) {\n      fetch('/api/caregivers/:userId/houseplan', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          roomInfromation\n        })\n      }).then(response => response.json()).then(data => console.log(data)).catch(error => console.error(error));\n      navigate('/main');\n    }\n    setGridUpdated(false);\n  }, [roomInfromation, gridUpdated]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"background-planner\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"planner-header\",\n      children: \"Planner\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"house-planner-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        onMouseUp: handleMouseUp,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid\",\n          children: grid.map((row, rowIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid-row\",\n            children: row.map((cell, cellIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `grid-cell${cell ? ' cell-filled' : ''}`,\n              style: cell ? {\n                backgroundColor: cell\n              } : {},\n              onMouseDown: () => handleMouseDown(rowIndex, cellIndex),\n              onMouseOver: () => handleMouseOver(rowIndex, cellIndex)\n            }, cellIndex, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this))\n          }, rowIndex, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 11\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 7\n      }, this), houseSelection.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"planner-elements\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"planner-next\",\n            onClick: handleNextRoom,\n            children: \"Next Room\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"planner-submit\",\n            onClick: handleSubmit,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Room:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"roomName\",\n              value: name,\n              onChange: handleRoomNameChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"error-message\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 23\n          }, this), successMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"success-message\",\n            children: successMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 32\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Select House:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: houseSelection.map((house, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                name: \"houseLocation\",\n                value: `${house.pk_id}+${house.address}`,\n                onChange: handleHouseSelectionChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: house.address\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"planner-door\",\n            onClick: () => setIsDoorDrawingEnabled(!isDoorDrawingEnabled),\n            children: isDoorDrawingEnabled ? \"Stop Door Drawing\" : \"Start Door Drawing\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"planner-next\",\n            onClick: undo,\n            children: \"Undo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: redo,\n            children: \"Redo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 13\n        }, this)\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"p-house-planner\",\n        children: \"All your locations has plans\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 319,\n    columnNumber: 5\n  }, this);\n}\n_s(PlanHouse, \"/eQUuu/NpGZqHjjH2WRIgRR/v9k=\", false, function () {\n  return [useNavigate];\n});\n_c = PlanHouse;\nexport default PlanHouse;\nvar _c;\n$RefreshReg$(_c, \"PlanHouse\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Header","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","numRows","numCols","PlanHouse","_s","grid","setGrid","Array","from","length","CellStart","setCellStart","name","setRoomName","roomCnt","setCount","paintColor","setPaintColor","roomInfromation","setRoomInfo","houseSelection","setHouseList","sessionData","sessionStorage","getItem","userId","JSON","parse","user_id","isMouseDown","sCellsSelected","gridUpdated","setGridUpdated","whichhouse","setWhichhouse","error","setError","successMessage","setSuccessMessage","doorColor","setDoorColor","isDoorDrawingEnabled","setIsDoorDrawingEnabled","planHistory","setPlanHistory","historyIndex","setHistoryIndex","navigate","enableDoorDrawing","disableDoorDrawing","undo","previousGrid","previousRoomCnt","previousRoomInfo","redo","nextGrid","nextRoomCnt","nextRoomInfo","fetch","then","response","json","house","console","log","handleMouseDown","row","col","current","rowAndCell","collumn","handleCellClick","handleMouseUp","handleMouseOver","handleRactangleDraw","newGrid","stringify","i","k","handleSubmit","id","roomInfo","roomId","roomColor","roomName","pkIdHouse","lastdata","newData","handleNextRoom","prevCount","randomColor","Math","floor","random","oldHistory","newHistory","slice","push","oldIndex","handleRoomNameChange","event","target","value","handleHouseSelectionChange","parts","split","selected","method","headers","body","data","catch","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onMouseUp","map","rowIndex","cell","cellIndex","style","backgroundColor","onMouseDown","onMouseOver","onClick","type","onChange","index","pk_id","address","_c","$RefreshReg$"],"sources":["C:/Users/Pacu/Desktop/f/ElderCare/reactfront/src/components/PlanHouse.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport '../CSS/planhouse.css';\r\nimport Header from './Header';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst numRows = 30;\r\nconst numCols = 30;\r\n\r\nfunction PlanHouse() {\r\n  const [grid, setGrid] = useState(() => {\r\n    return Array.from({ length: numRows }, () => Array.from({ length: numCols }, () => 0));\r\n  });\r\n  const [CellStart, setCellStart] = useState({});\r\n  const [name, setRoomName] = useState('');\r\n  const [roomCnt, setCount] = useState(0);\r\n  const [paintColor, setPaintColor] = useState('rgba(0, 0, 255, 0.5)'); \r\n  const [roomInfromation, setRoomInfo] = useState([]);\r\n  const [houseSelection, setHouseList] = useState([{}]);\r\n  const sessionData = sessionStorage.getItem(\"UserSession\");\r\n  const userId = JSON.parse(sessionData).user_id;\r\n  const isMouseDown = useRef(false);\r\n  const sCellsSelected = useRef(false);\r\n  const [gridUpdated, setGridUpdated] = useState(false);\r\n  const [whichhouse, setWhichhouse] = useState({});\r\n  const [error, setError] = useState(null);\r\n  const [successMessage, setSuccessMessage] = useState(null);\r\n\r\n  //added\r\n  const [doorColor, setDoorColor] = useState('saddlebrown'); \r\n  const [isDoorDrawingEnabled, setIsDoorDrawingEnabled] = useState(false);\r\n  const [planHistory, setPlanHistory] = useState([{ grid, roomCnt, roomInfromation }]);\r\n  const [historyIndex, setHistoryIndex] = useState(0);  \r\n  const navigate = useNavigate();\r\n\r\n  //added\r\n  const enableDoorDrawing = () => {\r\n    setIsDoorDrawingEnabled(true);\r\n  };\r\n  \r\n  const disableDoorDrawing = () => {\r\n    setIsDoorDrawingEnabled(false);\r\n  };\r\n\r\n  const undo = () => {\r\n    if (historyIndex > 0) {\r\n      const { grid: previousGrid, roomCnt: previousRoomCnt, roomInfromation: previousRoomInfo } = planHistory[historyIndex - 1];\r\n      setGrid(previousGrid);\r\n      setCount(roomCnt - 1);\r\n      setRoomInfo(previousRoomInfo);\r\n      setHistoryIndex(historyIndex - 1);\r\n    }\r\n  };\r\n  \r\n  const redo = () => {\r\n    if (historyIndex < planHistory.length - 1) {\r\n      const { grid: nextGrid, roomCnt: nextRoomCnt, roomInfromation: nextRoomInfo } = planHistory[historyIndex + 1];\r\n      setGrid(nextGrid);\r\n      setCount(roomCnt + 1);\r\n      setRoomInfo(nextRoomInfo);\r\n      setHistoryIndex(historyIndex + 1);\r\n    }\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    \r\n    fetch(`/api/planner/${userId}/house-list`)\r\n    .then(response => response.json())\r\n    .then(house => {\r\n      setHouseList(house);\r\n      console.log(houseSelection); \r\n    })\r\n  }, []);\r\n\r\n\r\n\r\n  const handleMouseDown = (row, col) => {\r\n\r\n    if(sCellsSelected.current === false)\r\n    {\r\n        const rowAndCell = {\r\n            row: row,\r\n            collumn: col,\r\n          };\r\n    \r\n        setCellStart(rowAndCell);\r\n        sCellsSelected.current = true;\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    \r\n    //console.log(CellStart);\r\n    isMouseDown.current = true;\r\n    handleCellClick(row, col);\r\n\r\n  };\r\n\r\n  const handleMouseUp = () => {\r\n    sCellsSelected.current = false;\r\n    isMouseDown.current = false;\r\n  };\r\n\r\n  const handleMouseOver = (row, col) => {\r\n    if (!isMouseDown.current) return;\r\n   // handleCellClick(row, col);\r\n   handleRactangleDraw(row, col);\r\n\r\n  };\r\n  //added change\r\n  const handleCellClick = (row, col) => {\r\n    const newGrid = JSON.parse(JSON.stringify(grid));\r\n  if (isDoorDrawingEnabled) {\r\n    newGrid[row][col] = doorColor;\r\n  } else {\r\n    newGrid[row][col] = newGrid[row][col] ? 0 : paintColor;\r\n  }\r\n  setGrid(newGrid);\r\n  };\r\n\r\n  const handleRactangleDraw = (row, col) => {\r\n    const newGrid = JSON.parse(JSON.stringify(grid));\r\n    \r\n    setGrid(newGrid);\r\n    \r\n    console.log(row + \" is \" + CellStart.row);\r\n    if(row >= CellStart.row)\r\n    {\r\n      if(col >= CellStart.collumn)\r\n      {\r\n        for(let i = row; i >= CellStart.row; i--)\r\n        {\r\n            \r\n            for(let k = col; k >= CellStart.collumn; k--)\r\n            {\r\n              if (isDoorDrawingEnabled) {\r\n                newGrid[i][k] = doorColor;\r\n              } else {\r\n                newGrid[i][k] = paintColor;\r\n              }\r\n            }\r\n        }\r\n        setGrid(newGrid);\r\n      }\r\n      else if(col <= CellStart.collumn)\r\n      {\r\n        for(let i = row; i >= CellStart.row; i--)\r\n        {\r\n            \r\n            for(let k = CellStart.collumn; k >= col; k--)\r\n            {\r\n              if (isDoorDrawingEnabled) {\r\n                newGrid[i][k] = doorColor;\r\n              } else {\r\n                newGrid[i][k] = paintColor;\r\n              }\r\n            }\r\n        }\r\n        setGrid(newGrid);\r\n      }\r\n    }\r\n    if(row <= CellStart.row)\r\n    {\r\n      if(col >= CellStart.collumn)\r\n      {\r\n        for(let i = CellStart.row; i >= row; i--)\r\n        {\r\n            \r\n          for(let k = col; k >= CellStart.collumn; k--)\r\n          {\r\n            if (isDoorDrawingEnabled) {\r\n              newGrid[i][k] = doorColor;\r\n            } else {\r\n              newGrid[i][k] = paintColor;\r\n            }\r\n          }\r\n        }\r\n        setGrid(newGrid);\r\n      }\r\n      else if(col <= CellStart.collumn)\r\n      {\r\n        for(let i = CellStart.row; i >= row; i--)\r\n        {\r\n            \r\n          for(let k = CellStart.collumn; k >= col; k--)\r\n          {\r\n            if (isDoorDrawingEnabled) {\r\n              newGrid[i][k] = doorColor;\r\n            } else {\r\n              newGrid[i][k] = paintColor;\r\n            }\r\n          }\r\n        }\r\n        setGrid(newGrid);\r\n      }\r\n    }\r\n\r\n  };\r\n  const handleSubmit = () => {\r\n    if (roomCnt === 0) {\r\n      setError('Plan must contain atleast one room');\r\n      return;\r\n    }\r\n    else if (!whichhouse.id) {\r\n      setError('You need to select the address');\r\n      return;\r\n    }\r\n  \r\n    setError(null); \r\n    \r\n    if(name)\r\n    {\r\n      const roomInfo = {\r\n        roomId: roomCnt,\r\n        roomColor: paintColor,\r\n        roomName: name,\r\n        grid: grid,\r\n        pkIdHouse: whichhouse.id\r\n      }\r\n\r\n      setRoomInfo((lastdata) => [\r\n        ...lastdata,\r\n        roomInfo\r\n      ]);\r\n    }\r\n    else{\r\n      setRoomInfo((lastdata) => {\r\n        const newData = [...lastdata];\r\n        if (newData.length > 0) {\r\n          newData[newData.length - 1].grid = grid;\r\n          newData[newData.length - 1].pkIdHouse = whichhouse.id;\r\n        }\r\n        return newData;\r\n      });\r\n    }\r\n\r\n\r\n        setGridUpdated(true);\r\n  }\r\n\r\n  const handleNextRoom = () => {\r\n\r\n    if (!name) {\r\n      setSuccessMessage(null); \r\n      setError('Room name cannot be empty');\r\n      return;\r\n    }\r\n  \r\n    setError(null); \r\n    setSuccessMessage('Room successfully created'); \r\n\r\n    console.log(grid);\r\n    const roomInfo = {\r\n      roomId: roomCnt,\r\n      roomColor: paintColor,\r\n      roomName: name\r\n    }\r\n    setRoomInfo((lastdata) => [\r\n      ...lastdata,\r\n      roomInfo\r\n    ]);\r\n      sCellsSelected.current = false;\r\n      setCount((prevCount) => prevCount + 1);\r\n      const randomColor = `rgba(${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, 0.5)`;\r\n    setPaintColor(randomColor);\r\n    setGridUpdated(false);\r\n    setRoomName('');\r\n\r\n    setPlanHistory((oldHistory) => {\r\n      const newHistory = oldHistory.slice(0, historyIndex + 1);\r\n      newHistory.push({\r\n         grid: grid,\r\n         roomCnt,\r\n         roomInfromation: [...roomInfromation, roomInfo]\r\n         }); \r\n      return newHistory;\r\n    });\r\n    setHistoryIndex((oldIndex) => oldIndex + 1);\r\n\r\n  };\r\n  useEffect(() => {\r\n    console.log(roomCnt);\r\n    \r\n  }, [roomInfromation]);\r\n\r\n  const handleRoomNameChange = (event) =>{\r\n    setRoomName(event.target.value);\r\n  }\r\n  const handleHouseSelectionChange = (event) => {\r\n   \r\n   const parts = event.target.value.split(\"+\")\r\n   console.log(parts[0]);\r\n   setWhichhouse({\r\n    id: parts[0],\r\n    selected: true\r\n  })\r\n \r\n};\r\n\r\n\r\nuseEffect(() => {\r\n  if (gridUpdated) {\r\n    fetch('/api/caregivers/:userId/houseplan', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ roomInfromation }),\r\n    })\r\n      .then((response) => response.json())\r\n      .then((data) => console.log(data))\r\n      .catch((error) => console.error(error));\r\n      navigate('/main');\r\n  }\r\n  setGridUpdated(false);\r\n}, [roomInfromation, gridUpdated]);\r\n\r\n  return (\r\n    <div className='background-planner'>\r\n          <Header />\r\n          <h1 className='planner-header'>Planner</h1>\r\n      <div className='house-planner-container'>\r\n      <div onMouseUp={handleMouseUp}>\r\n      <div className=\"grid\">\r\n        {grid.map((row, rowIndex) => (\r\n          <div key={rowIndex} className=\"grid-row\">\r\n            {row.map((cell, cellIndex) => (\r\n              <div\r\n                key={cellIndex}\r\n                className={`grid-cell${cell ? ' cell-filled' : ''}`}\r\n                style={cell ? { backgroundColor: cell } : {}} \r\n                onMouseDown={() => handleMouseDown(rowIndex, cellIndex)}\r\n                onMouseOver={() => handleMouseOver(rowIndex, cellIndex)}\r\n              ></div>\r\n            ))}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n        {houseSelection.length > 0 ? (\r\n          <>\r\n            <div className='planner-elements'>\r\n            <button className='planner-next' onClick={handleNextRoom}>Next Room</button>\r\n            <button className='planner-submit' onClick={handleSubmit}>Submit</button>\r\n            <div>\r\n                <label>Room:</label>\r\n                <input type=\"text\" id=\"roomName\" value={name} onChange={handleRoomNameChange} />\r\n            </div>\r\n            {error && <p className=\"error-message\">{error}</p>}\r\n            {successMessage && <p className=\"success-message\">{successMessage}</p>}\r\n            <p>Select House:</p>\r\n            <div>\r\n              {houseSelection.map((house, index) => (\r\n                  <div key={index}>\r\n                  <input type=\"radio\" name=\"houseLocation\" value={`${house.pk_id}+${house.address}`} onChange={handleHouseSelectionChange} />\r\n                  <label>{house.address}</label>\r\n                  </div>\r\n              ))}\r\n            </div>\r\n            <button className='planner-door' onClick={() => setIsDoorDrawingEnabled(!isDoorDrawingEnabled)}>\r\n            {isDoorDrawingEnabled ? \"Stop Door Drawing\" : \"Start Door Drawing\"}\r\n            </button>\r\n            <button className='planner-next' onClick={undo}>Undo</button>\r\n            <button onClick={redo}>Redo</button>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <p className='p-house-planner'>All your locations has plans</p>\r\n        )}\r\n      </div>  \r\n    </div>\r\n    \r\n  );\r\n}\r\n\r\nexport default PlanHouse;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}